@tailwind base;
@tailwind components;
@tailwind utilities;

/* TailwindCSSでは表現できない複雑なアニメーション */
.piece-flip {
    animation: flip 0.6s ease-in-out;
}

@keyframes flip {
    0% { transform: rotateY(0deg); }
    50% { transform: rotateY(90deg); }
    100% { transform: rotateY(0deg); }
}

/* 新しく置かれた石のアニメーション（プレイヤー用） */
.piece-placed {
    animation: placePiece 0.4s ease-out;
}

@keyframes placePiece {
    0% {
        transform: scale(0) rotate(0deg);
        opacity: 0;
        filter: drop-shadow(0 0 0 rgba(0, 0, 0, 0));
    }
    50% {
        transform: scale(1.3) rotate(180deg);
        opacity: 1;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
    }
    100% {
        transform: scale(1) rotate(360deg);
        opacity: 1;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
    }
}

/* NPCが置いた石の特別なアニメーション */
.piece-npc-placed {
    animation: npcPlacePiece 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes npcPlacePiece {
    0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
    }
    30% {
        transform: scale(1.5) rotate(-90deg);
        opacity: 0.9;
        box-shadow: 0 0 20px 10px rgba(59, 130, 246, 0.4);
    }
    60% {
        transform: scale(1.1) rotate(-20deg);
        opacity: 1;
        box-shadow: 0 0 15px 5px rgba(59, 130, 246, 0.3);
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
    }
}

/* セルの輝きエフェクト（NPCが置いた位置用） */
.cell-npc-highlight {
    animation: cellHighlight 1.2s ease-out;
}

@keyframes cellHighlight {
    0% {
        box-shadow: inset 0 0 0 0 rgba(59, 130, 246, 0);
        background-color: rgb(22, 163, 74); /* green-600 */
    }
    50% {
        box-shadow: inset 0 0 30px 10px rgba(59, 130, 246, 0.6);
        background-color: rgb(59, 130, 246); /* blue-500 */
    }
    100% {
        box-shadow: inset 0 0 0 0 rgba(59, 130, 246, 0);
        background-color: rgb(22, 163, 74); /* green-600 */
    }
}

/* 動的に変更されるグリッドレイアウト用のカスタムプロパティ */
.dynamic-grid {
    display: grid;
    gap: 0.125rem; /* gap-0.5 相当 */
}

/* 有効な手のハイライト効果（TailwindCSSでは表現が困難な複雑なbox-shadow） */
.valid-move-highlight {
    box-shadow: inset 0 0 8px rgba(255, 255, 255, 0.5);
}
